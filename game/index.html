<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Gear Wars - Battle Arena</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* Include the full CSS from your index.pdf here - it's already good */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body, html { font-family: 'Courier New', monospace; background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); display: flex; justify-content: center; align-items: center; min-height: 100vh; color: #fff; overflow: hidden; }
        #gameContainer { display: flex; flex-direction: column; align-items: center; gap: 20px; padding: 20px; width: 100%; max-width: 840px; }
        #gameCanvas { border: 4px solid #00d4ff; box-shadow: 0 0 30px rgba(0, 212, 255, 0.5); background: #0a0a15; border-radius: 10px; display: block; }
        .hud { display: flex; justify-content: space-between; width: 800px; max-width: 100%; gap: 20px; }
        .player-info { flex: 1; background: rgba(0, 0, 0, 0.7); padding: 15px; border-radius: 10px; border: 2px solid; transition: all 0.3s ease; }
        .player1-info { border-color: #00ff88; }
        .player2-info { border-color: #ff0088; }
        .hearts { display: flex; gap: 5px; margin: 10px 0; }
        .heart { width: 25px; height: 25px; font-size: 25px; }
        .bar-container { width: 100%; height: 20px; background: rgba(255, 255, 255, 0.1); border-radius: 10px; overflow: hidden; border: 1px solid rgba(255, 255, 255, 0.3); }
        .bar-fill { height: 100%; transition: width 0.1s; border-radius: 10px; }
        .stamina-bar { background: linear-gradient(90deg, #00d4ff, #0088ff); }
        .heat-bar { background: linear-gradient(90deg, #ff6600, #ff0000); }
        .controls { background: rgba(0, 0, 0, 0.8); padding: 20px; border-radius: 10px; border: 2px solid #00d4ff; width: 800px; max-width: 100%; }
        .screen { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.9); display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; z-index: 100; backdrop-filter: blur(5px); }
        .hidden { display: none !important; }
        .screen button { background: linear-gradient(45deg, #3498db, #2980b9); border: none; color: white; padding: 15px 30px; font-size: 1.1em; border-radius: 25px; margin: 10px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3); }
        .mobile-controls { display: none; user-select: none; -webkit-user-select: none; z-index: 100; }
        @media (pointer: coarse) { .mobile-controls { display: block; } }
        .d-pad { position: fixed; bottom: 30px; left: 30px; width: 150px; height: 150px; opacity: 0.7; }
        .action-buttons { position: fixed; bottom: 30px; right: 30px; width: 150px; height: 150px; opacity: 0.7; }
        .control-btn { position: absolute; background: rgba(0, 212, 255, 0.3); border: 2px solid #00d4ff; border-radius: 10px; font-size: 18px; color: #fff; display: flex; justify-content: center; align-items: center; touch-action: manipulation; }
        #d-pad-up { top: 0; left: 50px; width: 50px; height: 50px; }
        #d-pad-down { bottom: 0; left: 50px; width: 50px; height: 50px; }
        #d-pad-left { top: 50px; left: 0; width: 50px; height: 50px; }
        #d-pad-right { top: 50px; right: 0; width: 50px; height: 50px; }
        #action-boost { top: 0; right: 0; width: 80px; height: 80px; border-radius: 50%; font-size: 14px; }
        #action-shield { bottom: 0; left: 0; width: 60px; height: 60px; border-radius: 50%; font-size: 12px; }
        #action-parry { bottom: 0; right: 0; width: 60px; height: 60px; border-radius: 50%; font-size: 12px; }
        .control-btn:active { background: rgba(0, 212, 255, 0.7); }
        @media (max-width: 600px) { .d-pad, .action-buttons { transform: scale(0.8); bottom: 10px; } }
    </style>
</head>
<body>
    <div id="gameContainer">
        <div class="hud">
            <div class="player-info player1-info">
                <h3>PLAYER 1</h3>
                <div class="hearts" id="p1Hearts"></div>
                <div class="stat-bar">
                    <div class="stat-label">STAMINA</div>
                    <div class="bar-container">
                        <div class="bar-fill stamina-bar" id="p1Stamina" style="width: 100%"></div>
                    </div>
                </div>
                <div class="stat-bar">
                    <div class="stat-label">HEAT METER</div>
                    <div class="bar-container">
                        <div class="bar-fill heat-bar" id="p1Heat" style="width: 0%"></div>
                    </div>
                </div>
                <div class="ability-cooldown" id="p1Shield">Shield: Ready</div>
                <div class="ability-cooldown" id="p1Boost">Boost: Ready</div>
            </div>

            <div class="player-info player2-info">
                <h3>PLAYER 2</h3>
                <div class="hearts" id="p2Hearts"></div>
                <div class="stat-bar">
                    <div class="stat-label">STAMINA</div>
                    <div class="bar-container">
                        <div class="bar-fill stamina-bar" id="p2Stamina" style="width: 100%"></div>
                    </div>
                </div>
                <div class="stat-bar">
                    <div class="stat-label">HEAT METER</div>
                    <div class="bar-container">
                        <div class="bar-fill heat-bar" id="p2Heat" style="width: 0%"></div>
                    </div>
                </div>
                <div class="ability-cooldown" id="p2Shield">Shield: Ready</div>
                <div class="ability-cooldown" id="p2Boost">Boost: Ready</div>
            </div>
        </div>

        <div style="position: relative;">
            <canvas id="gameCanvas"></canvas>
            <div class="timer" id="gameTimer">5:00</div>
        </div>

        <div class="controls">
            <h3>üéÆ CONTROLS</h3>
            <div style="font-size: 12px; opacity: 0.8;">
                WASD/Arrows: Move | SPACE: Boost | SHIFT: Shield | Q/Slash: Parry
            </div>
        </div>
    </div>

    <!-- Mobile Controls -->
    <div class="mobile-controls">
        <div class="d-pad">
            <div class="control-btn" id="d-pad-up">‚ñ≤</div>
            <div class="control-btn" id="d-pad-down">‚ñº</div>
            <div class="control-btn" id="d-pad-left">‚óÄ</div>
            <div class="control-btn" id="d-pad-right">‚ñ∂</div>
        </div>
        <div class="action-buttons">
            <div class="control-btn" id="action-boost">Boost</div>
            <div class="control-btn" id="action-shield">Shield</div>
            <div class="control-btn" id="action-parry">Parry</div>
        </div>
    </div>

    <!-- Start Screen -->
    <div id="startScreen" class="screen">
        <h1>üéÆ GEAR WARS</h1>
        <p>Beta Version</p>
        <button id="startBtn">START BATTLE</button>
        <div class="instructions">
            <p>üéØ Collect GEARS to attack</p>
            <p>‚ù§Ô∏è Collect HEARTS to heal</p>
            <p>‚ö° Use BOOST and SHIELD</p>
            <p>üõ°Ô∏è PARRY to steal gears</p>
        </div>
    </div>

    <!-- Game Over Screen -->
    <div id="gameOverScreen" class="screen hidden">
        <h1 id="resultTitle">VICTORY!</h1>
        <p id="resultMessage">You defeated the enemy!</p>
        <button id="restartBtn">PLAY AGAIN</button>
        <button id="menuBtn">MAIN MENU</button>
    </div>

    <script src="game.js"></script>
    <script src="multiplayer.js"></script>
</body>
</html>
